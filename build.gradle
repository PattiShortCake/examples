plugins {
    id "com.diffplug.eclipse.apt" version "3.30.0"
}

ext {
    springCloudVersion = '2021.0.0'
    springBootVersion = '2.6.1'
    awsSdkV2Version = '2.17.41'
}


group 'com.example'
version '1.0-SNAPSHOT'


subprojects {
    if (it.name != 'javacpp-native') {
        apply plugin: 'java-library'
        apply plugin: 'com.diffplug.eclipse.apt'

        repositories {
            maven {
                url "http://www.gridgainsystems.com/nexus/content/repositories/external"
                allowInsecureProtocol true
            }
            mavenCentral()
            // google()
        }
        sourceCompatibility = JavaVersion.VERSION_11
//    targetCompatibility = 11

        dependencies {
            implementation platform("org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}")
            implementation platform("org.springframework.boot:spring-boot-dependencies:${springBootVersion}")
            annotationProcessor platform("org.springframework.boot:spring-boot-dependencies:${springBootVersion}")
            implementation platform("software.amazon.awssdk:bom:${awsSdkV2Version}")
        }


        compileJava {
            options.annotationProcessorGeneratedSourcesDirectory = file("${projectDir}/src/main/generated")
        }
    }

}
